{% extends "base.html" %}
{% block content %}

<h3 class="mb-3">Manage Items</h3>

<div class="card shadow mb-4">
  <div class="card-body">

    <table class="table table-striped table-bordered align-middle">
      <thead class="table-dark">
        <tr>
          <th>Name</th>
          <th>Stock</th>
          <th>Price</th>
          <th>Capital</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody>
        {% for i in items %}
        <tr>
          <td>{{ i.name }}</td>
          <td>{{ i.stock }}</td>
          <td>${{ "%.2f"|format(i.price) }}</td>
          <td>${{ "%.1f"|format(i.capital) }}</td>

          <td>
            <form
              action="/manager/items/update/{{i.id}}"
              method="post"
              class="d-flex gap-2"
            >
              <input type="number" class="form-control form-control-sm" name="stock" value="{{i.stock}}">
              <input type="text" class="form-control form-control-sm" name="price" value="{{i.price}}">
              <input type="text" class="form-control form-control-sm" name="capital" value="{{i.capital}}">
              <button class="btn btn-sm btn-primary">Save</button>
              <a class="btn btn-sm btn-danger"
                 href="/manager/items/delete/{{i.id}}"
                 onclick="return confirm('Delete item?')">Delete</a>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

  </div>
</div>

<div class="card shadow">
  <div class="card-body">
    <h5>Add Item</h5>

    <form method="post" action="/manager/items/add" class="row g-3">
      <div class="col-md-3"><input class="form-control" name="name" placeholder="Item name"></div>
      <div class="col-md-2"><input class="form-control" name="stock" type="number" placeholder="Stock"></div>
      <div class="col-md-2"><input class="form-control" name="price" placeholder="Price"></div>
      <div class="col-md-2"><input class="form-control" name="capital" placeholder="Capital"></div>
      <div class="col-md-3"><button class="btn btn-success w-100">Add Item</button></div>
    </form>
  </div>
</div>

{% endblock %}
